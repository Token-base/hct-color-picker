<script>import { getCtx, getAttrs } from "../ctx.js";
export let asChild = false;
const {
  helpers: { isChecked, isIndeterminate },
  states: { checked }
} = getCtx();
function getStateAttr(state) {
  if (state === "indeterminate")
    return "indeterminate";
  if (state)
    return "checked";
  return "unchecked";
}
$:
  attrs = {
    ...getAttrs("indicator"),
    "data-state": getStateAttr($checked)
  };
$:
  slotProps = {
    isChecked: $isChecked,
    isIndeterminate: $isIndeterminate,
    attrs
  };
</script>

{#if asChild}
	<slot {...slotProps} />
{:else}
	<div {...$$restProps} {...attrs}>
		<slot {...slotProps} />
	</div>
{/if}
